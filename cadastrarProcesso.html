<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <link rel="stylesheet" href="./cadastrarProcesso.css">
    </head>
    <body>
        <div class="master">
            <div id="form-cad">
                <form action="" method="post" id="cad">
                    <input type="text" placeholder="Nome">
                    
                    <select name="tipo" id="tipo" onchange="javascript:mostraAlerta(this);">
                        <option value="INICIAL">Inicial</option>
                        <option value="RENOVACAO">Renovação</option>
                    </select>

                    
                    
                    <select name="" id="">
                        <option value="">Alfaepoetina 1.000UI</option>
                        <option value="">Alfaepoetina 2.000UI</option>
                        <option value="">Alfaepoetina 3.000UI</option>
                        <option value="">Alfaepoetina 4.000UI</option>
                        <option value="">Sacarato de Hidroxido Ferrico</option>
                    </select>

                    <select name="" id="">
                        <option value="">Sacarato Dose Ataque 10, 2, 2</option>
                        <option value="">Sacarato Dose Manutencao 2, 2, 2</option>
                        <option value="">Alfaepoetina Dose Ataque 12, 12, 12</option>
                        <option value="">Alfaepoetina Dose Manutencao 8, 8, 8</option>
                    </select>

                    <input type="text" name="data_solicitacao" id="data_solicitacao" maxlength="10" onkeypress="mascaraData(this)" placeholder="Data da Solicitação" />

                    <!caso processo tipo inicial>

                    <label id="separador">|</label>
                    
                    <input type="text" name="vencimento_LME" id="vencimento_LME" maxlength="10" onkeypress="mascaraData(this)" placeholder="Vencimento da LME" />
                    <input type="text" name="data_retorno" id="data_retorno" maxlength="10" onkeypress="mascaraData(this)" placeholder="Data de Retorno" />

                    <button type="submit">Salvar</button>
                </form>
            </div>
        </div>
    </body>
</html>

<script src="./jquery-3.4.1.slim.js"></script>

<script>
    //jquery ainda nao esta em uso nesta aplicação
    function mostraAlerta(elemento){
        //caso precise saber qual valor o susuario inseriu no select do js, esta função captura o valor;
        //elemento.value // isso deve ser o elemento selecionado no select do js
    }
   
    function mascaraData(val) {
  var pass = val.value;
  var expr = /[0123456789]/;

  for (i = 0; i < pass.length; i++) {
    // charAt -> retorna o caractere posicionado no índice especificado
    var lchar = val.value.charAt(i);
    var nchar = val.value.charAt(i + 1);

    if (i == 0) {
      // search -> retorna um valor inteiro, indicando a posição do inicio da primeira
      // ocorrência de expReg dentro de instStr. Se nenhuma ocorrencia for encontrada o método retornara -1
      // instStr.search(expReg);
      if ((lchar.search(expr) != 0) || (lchar > 3)) {
        val.value = "";
      }

    } else if (i == 1) {

      if (lchar.search(expr) != 0) {
        // substring(indice1,indice2)
        // indice1, indice2 -> será usado para delimitar a string
        var tst1 = val.value.substring(0, (i));
        val.value = tst1;
        continue;
      }

      if ((nchar != '/') && (nchar != '')) {
        var tst1 = val.value.substring(0, (i) + 1);

        if (nchar.search(expr) != 0)
          var tst2 = val.value.substring(i + 2, pass.length);
        else
          var tst2 = val.value.substring(i + 1, pass.length);

        val.value = tst1 + '/' + tst2;
      }

    } else if (i == 4) {

      if (lchar.search(expr) != 0) {
        var tst1 = val.value.substring(0, (i));
        val.value = tst1;
        continue;
      }

      if ((nchar != '/') && (nchar != '')) {
        var tst1 = val.value.substring(0, (i) + 1);

        if (nchar.search(expr) != 0)
          var tst2 = val.value.substring(i + 2, pass.length);
        else
          var tst2 = val.value.substring(i + 1, pass.length);

        val.value = tst1 + '/' + tst2;
      }
    }

    if (i >= 6) {
      if (lchar.search(expr) != 0) {
        var tst1 = val.value.substring(0, (i));
        val.value = tst1;
      }
    }
  }

  if (pass.length > 10)
    val.value = val.value.substring(0, 10);
  return true;
}
</script>